{% import 'macros/forms.html' as forms %}

{% if not is_registered %}
        
<figure class="w-32 h-32">
    <img src="{{ asset('resources/post/img/undraw_start_building_vqhd.svg') }}" alt="" class="w-full h-full">
</figure>
<h2 class="font-ui">Comienza registrando tu articulo.</h2>
<form method="POST" action="{{ route('post_register', [post.seo_name]) }}" class="flex flex-col space-y-5 self-stretch"
    enctype="multipart/form-data">
    {% if errors.any() %}
    <div class="mb-4">
        <div class="font-medium text-red-600">
            {{ trans('Whoops! Something went wrong.') }}
        </div>
        
        <ul class="mt-3 list-disc list-inside text-sm text-red-600">
            {% for error in errors.all() %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    {{ csrf_field() }}
    {{ forms.label('Nombre del articulo', 'title') }}
    {{ forms.input('title', 'text', 'mt-2 block w-full', {'required': true}) }}
    <div class="relative h-36 rounded-lg border-solid border-2 border-blue-700 bg-gray-100 flex justify-center items-center"
        x-data="{ fileName: '' }">
        <div class="absolute">
            <div class="flex flex-col items-center">
                <span class="block text-gray-500 font-normal">Sube el archivo de tu articulo aquí.</span>
                <span x-text="fileName" class="block text-gray-400 font-light" />
            </div>
        </div>
        <input type="file" accept="application/pdf" name="article_pdf" class="cursor-pointer h-full w-full opacity-0"
            x-ref="file" @change="fileName = $refs.file.files[0].name">
    </div>
    <button
        class="self-end text-sm font-light rounded-md bg-gray-900 font-ui text-white px-4 py-2 w-52">¡Registrate!</button>
</form>

{% else %}
<figure class="w-32 h-32">
    <img src="{{ asset('resources/post/img/undraw_pending_approval_xuu9.svg') }}" alt="" class="w-full h-full">
</figure>
<h2 class="font-ui">¡Listo! ¿Ahora que?</h2>
<p class="font-ui text-gray-800 text-center">Primero debes esperar a que tu articulo sea aceptado, después deberás realizar el pago y subir tu comprobante.</p>
{% endif %}



{# Save for when the article gets accepted
<div class="relative h-36 rounded-lg border-solid border-2 border-blue-700 bg-gray-100 flex justify-center items-center"
    x-data="{ paymentFileName: '' }">
    <div class="absolute">
        <div class="flex flex-col items-center">
            <span class="block text-gray-500 font-normal">Sube tu comprobante de pago aquí.</span>
            <span x-text="paymentFileName" class="block text-gray-400 font-light" />
        </div>
    </div>
    <input type="file" accept="application/pdf" name="payment_file" class="cursor-pointer h-full w-full opacity-0"
        x-ref="paymentFile" @change="paymentFileName = $refs.paymentFile.files[0].name">
</div>
#}